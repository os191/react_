{"ast":null,"code":"var _jsxFileName = \"/Users/gongjin/react/react-jl/src/componets/upload/UploadImg.jsx\";\nimport React, { Component } from 'react';\nimport { Upload, Icon, message } from 'antd';\n\nfunction getBase64(img, callback) {\n  const reader = new FileReader();\n  reader.addEventListener('load', () => callback(reader.result));\n  reader.readAsDataURL(img);\n}\n\nclass UploadImg extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleChange = info => {\n      if (info.file.status === 'uploading') {\n        this.setState({\n          loading: true\n        });\n        return;\n      }\n\n      if (info.file.status === 'done') {\n        // Get this url from response in real world.\n        getBase64(info.file.originFileObj, imageUrl => this.setState({\n          imageUrl,\n          loading: false\n        }));\n      }\n    };\n\n    this.state = {};\n  }\n\n  render() {\n    return React.createElement(Upload, {\n      name: \"avatar\",\n      listType: \"picture-card\",\n      className: \"avatar-uploader\",\n      showUploadList: false,\n      action: \"https://www.mocky.io/v2/5cc8019d300000980a055e76\",\n      beforeUpload: beforeUpload,\n      onChange: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 33\n      },\n      __self: this\n    }, imageUrl ? React.createElement(\"img\", {\n      src: imageUrl,\n      alt: \"avatar\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42\n      },\n      __self: this\n    }) : uploadButton);\n  }\n\n}\n\nexport default UploadImg;","map":{"version":3,"sources":["/Users/gongjin/react/react-jl/src/componets/upload/UploadImg.jsx"],"names":["React","Component","Upload","Icon","message","getBase64","img","callback","reader","FileReader","addEventListener","result","readAsDataURL","UploadImg","constructor","props","handleChange","info","file","status","setState","loading","originFileObj","imageUrl","state","render","beforeUpload","uploadButton"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,MAAT,EAAiBC,IAAjB,EAAuBC,OAAvB,QAAsC,MAAtC;;AAEA,SAASC,SAAT,CAAmBC,GAAnB,EAAwBC,QAAxB,EAAkC;AAC9B,QAAMC,MAAM,GAAG,IAAIC,UAAJ,EAAf;AACAD,EAAAA,MAAM,CAACE,gBAAP,CAAwB,MAAxB,EAAgC,MAAMH,QAAQ,CAACC,MAAM,CAACG,MAAR,CAA9C;AACAH,EAAAA,MAAM,CAACI,aAAP,CAAqBN,GAArB;AACD;;AAEH,MAAMO,SAAN,SAAwBZ,SAAxB,CAAkC;AAC9Ba,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,UAAMA,KAAN;;AADe,SAKnBC,YALmB,GAKJC,IAAI,IAAI;AACnB,UAAIA,IAAI,CAACC,IAAL,CAAUC,MAAV,KAAqB,WAAzB,EAAsC;AACpC,aAAKC,QAAL,CAAc;AAAEC,UAAAA,OAAO,EAAE;AAAX,SAAd;AACA;AACD;;AACD,UAAIJ,IAAI,CAACC,IAAL,CAAUC,MAAV,KAAqB,MAAzB,EAAiC;AAC/B;AACAd,QAAAA,SAAS,CAACY,IAAI,CAACC,IAAL,CAAUI,aAAX,EAA0BC,QAAQ,IACzC,KAAKH,QAAL,CAAc;AACZG,UAAAA,QADY;AAEZF,UAAAA,OAAO,EAAE;AAFG,SAAd,CADO,CAAT;AAMD;AACF,KAnBgB;;AAEf,SAAKG,KAAL,GAAa,EAAb;AACH;;AAiBDC,EAAAA,MAAM,GAAG;AACL,WACI,oBAAC,MAAD;AACI,MAAA,IAAI,EAAC,QADT;AAEI,MAAA,QAAQ,EAAC,cAFb;AAGI,MAAA,SAAS,EAAC,iBAHd;AAII,MAAA,cAAc,EAAE,KAJpB;AAKI,MAAA,MAAM,EAAC,kDALX;AAMI,MAAA,YAAY,EAAEC,YANlB;AAOI,MAAA,QAAQ,EAAE,KAAKV,YAPnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OASKO,QAAQ,GAAG;AAAK,MAAA,GAAG,EAAEA,QAAV;AAAoB,MAAA,GAAG,EAAC,QAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAH,GAAyCI,YATtD,CADJ;AAaH;;AAnC6B;;AAsClC,eAAed,SAAf","sourcesContent":["import React, { Component } from 'react';\nimport { Upload, Icon, message } from 'antd';\n\nfunction getBase64(img, callback) {\n    const reader = new FileReader();\n    reader.addEventListener('load', () => callback(reader.result));\n    reader.readAsDataURL(img);\n  }\n\nclass UploadImg extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {  };\n    }\n    \n    handleChange = info => {\n        if (info.file.status === 'uploading') {\n          this.setState({ loading: true });\n          return;\n        }\n        if (info.file.status === 'done') {\n          // Get this url from response in real world.\n          getBase64(info.file.originFileObj, imageUrl =>\n            this.setState({\n              imageUrl,\n              loading: false,\n            }),\n          );\n        }\n      };\n    render() {\n        return (\n            <Upload\n                name=\"avatar\"\n                listType=\"picture-card\"\n                className=\"avatar-uploader\"\n                showUploadList={false}\n                action=\"https://www.mocky.io/v2/5cc8019d300000980a055e76\"\n                beforeUpload={beforeUpload}\n                onChange={this.handleChange}\n            >\n                {imageUrl ? <img src={imageUrl} alt=\"avatar\" /> : uploadButton}\n            </Upload>\n        );\n    }\n}\n\nexport default UploadImg;"]},"metadata":{},"sourceType":"module"}